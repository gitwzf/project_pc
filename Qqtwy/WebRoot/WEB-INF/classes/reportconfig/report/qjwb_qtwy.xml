<applications xmlns="http://www.wabacus.com"
			   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			   xsi:schemaLocation="http://www.wabacus.com ../xsd/wabacus.applications.xsd">
			   
    		 <page xmlns="http://www.wabacus.com" id="qjwb_resume" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
  
    	<!-- 	     <report id="t4jobber" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="real_nam" label="真实姓名" clickorderby="true"></col>
<col column="paswd" label="密码" clickorderby="true"></col>
<col column="head_url" label="头像路径" clickorderby="true">
   <inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="nam_tiny" label="昵称" clickorderby="true"></col>
<col column="typeoneids" label="职务类别编号串，|分隔" clickorderby="true"></col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t4jobber where {#condition#} order by id</value> 
<condition label="姓名" name="txtreal_nam">  
               <value>
                   real_nam like '%#data#%'
               </value>
            </condition>
</select>
<insert>insert into t4jobber (@{real_nam},@{paswd},@{head_url},@{nam_tiny},@{typeoneids},@{timadd},@{status});</insert>
<update>update t4jobber (@{real_nam},@{paswd},@{head_url},@{nam_tiny},@{typeoneids},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t4jobber where id=@{id};</delete>
</sql>
<format>
    <value>
        status=status==null?"0":status.trim();
        if(status.equals("0"))status="无效";
        else if(status.equals("1"))status="有效";
    </value>
</format>
</report>    -->
<report id="t5resume" title="简历" type="editablelist2" dataexport="richexcel" width="1600px">
<display >
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="wx_openid" label="微信openid" clickorderby="true"></col>
<col column="real_nam" label="真实姓名" clickorderby="true"></col>
<col column="birthday" label="生日" clickorderby="true">
<inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="gender" label="性别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0" >
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
           </inputbox>
</col>
<col column="telphone" label="手机" clickorderby="true"></col>
<col column="email" label="电子邮箱" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="years" label="工作年限" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="在读学生"></option>
               <option value="1" label="应届毕业生"></option>
               <option value="2" label="一年以上"></option>
               <option value="3" label="二年以上"></option>
               <option value="4" label="三年以上"></option>
               <option value="5" label="五年以上"></option>
               <option value="6" label="八年以上"></option>
               <option value="7" label="十年以上"></option>
           </inputbox>
</col>
<col column="school" label="毕业院校" clickorderby="true"></col>
<col column="gradu_tim" label="毕业时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="degree" label="学历" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="major" label="专业" clickorderby="true"></col>
<col column="salary" label="目前年薪" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-5w"></option>
               <option value="2" label="5-7w"></option>
               <option value="3" label="7-10w"></option>
               <option value="4" label="10w以上"></option>
           </inputbox>
</col>
<col column="expectsalary" label="期望年薪" clickorderby="true"></col>
<col column="address" label="居住地址" clickorderby="true"  width="200px">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="self_evaluate" label="自我评价" clickorderby="true" width="200px">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="info" label="备注" clickorderby="true" width="200px">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t5resume where {#condition#} order by id</value> 
<condition label="微信id" name="txtwx_openid">  
               <value>
                   wx_openid like '%#data#%'
               </value>
            </condition> 
</select>
<insert>insert into t5resume (@{wx_openid},@{real_nam},@{birthday},@{gender},@{telphone},@{email},@{years},@{school},@{gradu_tim},@{degree},@{major},@{salary},@{expectsalary},@{address},@{self_evaluate},@{info},@{timadd},@{status});</insert>
<update>update t5resume (@{wx_openid},@{real_nam},@{birthday},@{gender},@{telphone},@{email},@{years},@{school},@{gradu_tim},@{degree},@{major},@{salary},@{expectsalary},@{address},@{self_evaluate},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t5resume where id=@{id};</delete>
</sql>
<format>
    <value>
        gender=gender==null?"0":gender.trim();
        if(gender.equals("0"))gender="女";
        else if(gender.equals("1"))gender="男";
        
        status=status==null?"0":status.trim();
        if(status.equals("0"))status="无效";
        else if(status.equals("1"))status="有效";
        
        years=years==null?"0":years.trim();
        if(years.equals("0"))years="在读学生";
        else if(years.equals("1"))years="应届毕业生";
        else if(years.equals("2"))years="一年以上";
        else if(years.equals("3"))years="二年以上";
        else if(years.equals("4"))years="三年以上";
        else if(years.equals("5"))years="五年以上";
        else if(years.equals("6"))years="八年以上";
        else if(years.equals("7"))years="十年以上";
        
        degree=degree==null?"0":degree.trim();
        if(degree.equals("0"))degree="博士";
        else   if(degree.equals("1"))degree="硕士";
         else   if(degree.equals("2"))degree="大学本科";
          else   if(degree.equals("3"))degree="大专";
          else   if(degree.equals("4"))degree="高中";
           else   if(degree.equals("5"))degree="职高";
            else   if(degree.equals("6"))degree="初中";
             else   if(degree.equals("7"))degree="中技";
              else   if(degree.equals("8"))degree="中专";
              
              salary=salary==null?"0":salary.trim();
              if(salary.equals("0"))salary="4w以下";
              else  if(salary.equals("0"))salary="4-5w";
               else  if(salary.equals("0"))salary="5-7w";
                else  if(salary.equals("0"))salary="7-10w";
                 else  if(salary.equals("0"))salary="10w以上";
    </value>
</format>
</report> 

<report id="t6workexperience" title="工作经历" type="editablelist2" dataexport="richexcel" depends="t5resume" dependsparams="txtresumeid=@{id}" width="1200px">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="resumeid" label="简历编号" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txtresumeid}"></inputbox>
</col>
<col column="companyname" label="公司名称" clickorderby="true"></col>
<col column="department" label="部门名称" clickorderby="true"></col>
<col column="position" label="职位" clickorderby="true"></col>
<col column="salary" label="薪资" clickorderby="true"></col>
<col column="info" label="工作描述" clickorderby="true" width="200px">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="beg_tim" label="开始时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="结束时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t6workexperience where {#condition#} order by id</value>
<condition label="求职者编号" name="txtresumeid">  
               <value>
                   resumeid = '#data#'
               </value>
            </condition> 
</select>
<insert>insert into t6workexperience (@{resumeid},@{companyname},@{department},@{position},@{salary},@{info},@{beg_tim},@{end_tim},@{timadd},@{status});</insert>
<update>update t6workexperience (@{resumeid},@{companyname},@{department},@{position},@{salary},@{info},@{beg_tim},@{end_tim},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t6workexperience where id=@{id};</delete>
</sql>
<format>
    <value>
        status=status==null?"0":status.trim();
        if(status.equals("0"))status="无效";
        else if(status.equals("1"))status="有效";
    </value>
</format>
</report> 
</page>
	 <page xmlns="http://www.wabacus.com" id="qjwb_hunter" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
  <interceptor>
  <imports>
      <import>com.wabacus.util.*</import>
   </imports>
   <preaction>
       rrequest.authorize("t3position",Consts.DATA_PART,"type","readonly","true");//将report1表单中“中文名”列设置为只读
        rrequest.authorize("t3position0",Consts.DATA_PART,"type","readonly","true");
     </preaction>
   </interceptor>
 
   <report id="hunter" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="编号" clickorderby="true"></col>
<col column="real_nam" label="真实姓名" clickorderby="true"></col>
<col column="en_nam" label="英文名" clickorderby="true"></col>
<col column="focuscnt" label="关注度" clickorderby="true"></col>
<col column="workyear" label="工作年限" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="position" label="职位" clickorderby="true"></col>
<col column="rank0" label="排名优先级" clickorderby="true">
<inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="rank" label="等级（1-5）" clickorderby="true"></col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
<col column="adminid" label="管理员账号" clickorderby="true">
    <inputbox type="selectbox">
        <option value="" label="选择账号"></option>
               <option dataset="@{select id,nam_tiny from t10manager where status=1 and privlg=3}" label="nam_tiny" value="id"/>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from hunter where {#condition#} order by id</value> 
<condition label="中文名" name="txtreal_nam">  
               <value>
                   real_nam like '%#data#%'
               </value>
            </condition>
            <condition label="英文名" name="txten_nam">  
               <value>
                  en_nam like '%#data#%'
               </value>
            </condition>
</select>
<update>update hunter (@{adminid},@{rank0},@{focuscnt},@{workyear},@{position},@{real_nam},@{en_nam},@{rank},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from hunter where id=@{id};</delete>
</sql>
<format><value>
   status=status==null?"0":status.trim();
   if(status.equals("0"))status="无效";
   else if(status.equals("1"))status="有效";

</value>
</format>
</report>
 <report id="hunter0" type="form" title="猎头详细表" dataexport="richexcel" depends="hunter" dependsparams="txtcompanyid=@{id}">
<display labeltdwidth="100px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
<col column="id" label="编号" clickorderby="true" displaytype="hidden"></col>
<col column="real_nam" label="真实姓名" clickorderby="true"></col>
<col column="en_nam" label="英文名" br="true"></col>
<col column="focuscnt" label="关注度" clickorderby="true"></col>
<col column="workyear" label="工作年限" br="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="background" label="背景及典型成功案例" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
   <inputbox type="textareabox" styleproperty="rows='6'onfocus='edit()'"></inputbox>
</col>
<col column="position" label="职位" clickorderby="true"></col>

<col column="rank" label="等级（1-5）" br="true"></col>
<col column="head_url" label="头像路径" clickorderby="true">
    <inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="email" label="电子邮箱" br="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="info" label="个人说明" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
<inputbox type="textareabox" styleproperty="rows='6'onfocus='edit()'"></inputbox>
</col>
<col column="typeoneid" label="擅长职务" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from t1typeone where hierarchy='0'}" label="name" value="id"/>
           </inputbox>
</col>
<col column="timadd" label="添加时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
<col column="rank0" label="排名优先级" br="true">
<inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="adminid" label="管理员账号" clickorderby="true">
    <inputbox type="selectbox">
        <option value="" label="选择账号"></option>
               <option dataset="@{select id,nam_tiny from t10manager where status=1 and privlg=3}" label="nam_tiny" value="id"/>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from hunter where {#condition#} order by id</value>
<condition label="中文名" name="txtcompanyid" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition> 
</select>
<insert refreshparentonsave="hunter|true">insert into hunter (@{adminid},@{focuscnt},@{workyear},@{background},@{position},@{real_nam},@{en_nam},@{rank},@{head_url},@{email},@{info},@{typeoneid},@{timadd},@{status},@{rank0});</insert>
<update refreshparentonsave="hunter|true">update hunter (@{adminid},@{focuscnt},@{workyear},@{background},@{position},@{real_nam},@{en_nam},@{rank},@{head_url},@{email},@{info},@{typeoneid},@{timadd},@{status},@{rank0}) where id=@{id};</update>
<delete refreshparentonsave="hunter|true">delete from hunter where id=@{id};</delete>
</sql>
</report>
   

   <report id="t3position" title="发布的职位" type="editablelist2" dataexport="richexcel" depends="hunter" dependsparams="txtcompanyid=@{id}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="猎头"></option>
               <option value="1" label="公司"></option>
           </inputbox>
</col>
<col column="companyid" label="猎头编号" clickorderby="true">
     <inputbox jsvalidate="isNotEmpty(#label#不能为空);isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txtcompanyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="salary" label="年薪" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="猎头编号" name="txtcompanyid">  
               <value>
                   companyid = '#data#'
               </value>
            </condition>
             <condition label="标签名" name="txt***" hidden="true" defaultvalue="0">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<update>update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{salary},@{timadd}) where id=@{id};</update>
<delete>delete from t3position where id=@{id};</delete>
</sql>
<format>
    <value>
        posi_type=posi_type==null?"0":posi_type.trim();
        if(posi_type.equals("0"))posi_type="兼职";
        else   if(posi_type.equals("1"))posi_type="全职";
        
        sex=sex==null?"0":sex.trim();
        if(sex.equals("0"))sex="女";
        else if(sex.equals("1"))sex="男";
        else if(sex.equals("2"))sex="无";
        
        degree=degree==null?"0":degree.trim();
        if(degree.equals("0"))degree="博士";
        else  if(degree.equals("1"))degree="硕士";
         else  if(degree.equals("2"))degree="大学本科";
          else  if(degree.equals("3"))degree="大专";
           else  if(degree.equals("4"))degree="高中";
            else  if(degree.equals("5"))degree="职高";
             else  if(degree.equals("6"))degree="初中";
              else  if(degree.equals("7"))degree="中技";
               else  if(degree.equals("8"))degree="中专";
               
               workexperience=workexperience==null?"0":workexperience.trim();
               if(workexperience.equals("0"))workexperience="无";
               else if(workexperience.equals("1"))workexperience="1年以上";
                else if(workexperience.equals("2"))workexperience="2年以上";
                 else if(workexperience.equals("3"))workexperience="3年以上";
                  else if(workexperience.equals("4"))workexperience="4年以上";
                   else if(workexperience.equals("5"))workexperience="5年以上";
                   
                   salary=salary==null?"0":salary.trim();
                   if(salary.equals("0"))salary="4w以下";
                   else if(salary.equals("1"))salary="4-7w";
                    else if(salary.equals("2"))salary="7-10w";
                     else if(salary.equals("3"))salary="10w以上";
                       else if(salary.equals("4"))salary="面议";
        
         type=type==null?"0":type.trim();
        if(type.equals("0"))type="猎头";
        else  if(type.equals("1"))type="公司";
    </value>
</format>
</report> 

   <report id="t3position0" title="详细" type="form" dataexport="richexcel" depends="t3position" dependsparams="txt0id=@{id};txt0companyid=@{companyid}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="猎头"></option>
               <option value="1" label="公司"></option>
           </inputbox>
</col>
<col column="companyid" label="猎头编号" br="true">
     <inputbox jsvalidate="isNotEmpty(#label#不能为空);isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txt0companyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="typetwoid" label="工作地点" clickorderby="true">
        <inputbox>
				     <typeprompt count="15" width="200">
						       <promptcol label="aa" value="id" matchmode="anywhere"></promptcol>
						       <datasource> <option dataset="@{select id,aa from shenshi where {#matchcondition#}}"></option>       </datasource>
					        </typeprompt>
					     </inputbox>
        
</col>
<col column="salary" label="年薪" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="info" label="岗位职责" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="猎头编号" name="txt0id" hidden="true">  
               <value>
                  id = '#data#'
               </value>
            </condition>
             <condition label="标签名" name="txt0***" hidden="true" defaultvalue="0">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<insert refreshparentonsave="t3position|true">insert into t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status});</insert>
<update refreshparentonsave="t3position|true">update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete refreshparentonsave="t3position|true">delete from t3position where id=@{id};</delete>
</sql>
</report> 
<outerheader>
   <![CDATA[<html><head><script type="text/javascript" src="js/jquery.min.js"></script>
 <script type="text/javascript" src="js/windows.js"></script>
    <script type="text/javascript" src="ueditor_qjwb/ueditor.config.js"></script>
      <script type="text/javascript" src="ueditor_qjwb/ueditor.all.js"></script>
      <script type="text/javascript" src="ueditor_qjwb/ueditor.all.min.js"></script>
      <link type="text/css" href="ueditor_qjwb/themes/default/css/ueditor.css"/></head><body>]]>
  </outerheader>
  <header></header>
   <footer> </footer>
   <outerfooter>
   <![CDATA[</body></html>]]>
  </outerfooter>
</page>
    	<page xmlns="http://www.wabacus.com" id="qjwb_company" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
  <interceptor>
  <imports>
      <import>com.wabacus.util.*</import>
   </imports>
   <preaction>
         rrequest.authorize("t3positiona0",Consts.DATA_PART,"type","readonly","true");
 		rrequest.authorize("t3positiona",Consts.DATA_PART,"type","readonly","true");
   </preaction>
   </interceptor>
 
    	     <report id="t2company"  type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="编号" clickorderby="true"></col>
<col column="companyname" label="公司名" clickorderby="true"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="普通"></option>
               <option value="1" label="高级"></option>
           </inputbox>
</col>
<col column="rank" label="排名优先级" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="modeltypeid" label="分类类别" clickorderby="true">
   <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from modeltype where status=1 and type=0}" label="name" value="id"/>
           </inputbox>
</col>
<col column="tel" label="电话" clickorderby="true"></col>
<col column="email" label="email" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="connector" label="联系人" clickorderby="true"></col>
<!--<col column="typetwoid" label="地区类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select a.id,b.name,concat(b.name,a.name) as aa from (select id,fid,name from t7typetwo  where hierarchy='1') as a left join t7typetwo as b on a.fid=b.id}" label="aa" value="id"/>
           </inputbox>
</col>    -->
<col column="scale" label="公司规模" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="20人以下"></option>
               <option value="1" label="20-100人"></option>
               <option value="2" label="100-500人"></option>
               <option value="3" label="500-1000人"></option>
               <option value="4" label="1000人以上"></option>
           </inputbox>
</col>
<col column="properties" label="公司性质" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="内资有限责任公司"></option>
               <option value="1" label="外商投资企业"></option>
               <option value="2" label="外商投资合伙企业"></option>
               <option value="3" label="股份有限公司"></option>
               <option value="4" label="非公司制企业"></option>
               <option value="5" label="个体工商户"></option>
               <option value="6" label="合伙企业"></option>
               <option value="7" label="大学生创业"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="adminid" label="管理员账号" clickorderby="true">
    <inputbox type="selectbox">
        <option value="" label="选择账号"></option>
               <option dataset="@{select id,nam_tiny from t10manager where status=1 and privlg=2}" label="nam_tiny" value="id"/>
           </inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
      		   <option value="1" label="有效"></option>
               <option value="0" label="无效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t2company where {#condition#} order by id</value> 
<condition label="公司名" name="txtcompanyname">  
               <value>
                  companyname like '%#data#%'
               </value>
            </condition>
            <condition label="标签名" name="txttype">  
                   <inputbox type="selectbox" defaultvalue="0">
                        <option value="" label="类别"></option>
               <option value="0" label="普通"></option>
               <option value="1" label="高级"></option>
           </inputbox>
           <value>
                  type = '#data#'
               </value>
            </condition>
             <condition label="标签名" name="txtmodeltypeid">  
                    <inputbox type="selectbox" defaultvalue="0">
                        <option value="" label="分类类别"></option>
               <option dataset="@{select id,name from modeltype where status=1 and type=0}" label="name" value="id"/>
           </inputbox>
           <value>
                  modeltypeid = '#data#'
               </value>
            </condition>
</select>
<update>update t2company (@{adminid},@{type},@{modeltypeid},@{rank},@{companyname},@{tel},@{email},@{connector},@{scale},@{properties},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t2company where id=@{id};</delete>
</sql>
<format>
    <value>
        scale=scale==null?"0":scale.trim();
        if(scale.equals("0"))scale="20人以下";
        else   if(scale.equals("1"))scale="20-100人";
        else   if(scale.equals("2"))scale="100-500人";
        else   if(scale.equals("3"))scale="500-1000人";
        else   if(scale.equals("4"))scale="1000人以上";
        
         status=status==null?"0":status.trim();
        if(status.equals("0"))status="无效";
        else if(status.equals("1"))status="有效";
        
        properties=properties==null?"0":properties.trim();
        if(properties.equals("0"))properties="内资有限责任公司";
        else  if(properties.equals("1"))properties="外商投资企业";
         else  if(properties.equals("2"))properties="外商投资合伙企业";
          else  if(properties.equals("3"))properties="股份有限公司";
           else  if(properties.equals("4"))properties="非公司制企业";
            else  if(properties.equals("5"))properties="个体工商户";
             else  if(properties.equals("6"))properties="合伙企业";
            else  if(properties.equals("7"))properties="大学生创业";
            
            type=type==null?"0":type.trim();
            if(type.equals("0"))type="普通";
            else   if(type.equals("1"))type="高级";
    </value>
</format>
</report> 
<report id="t2company0"  type="form"  title="公司详细表" dataexport="richexcel" depends="t2company" dependsparams="txtcompanyid=@{id}">
<display>
<col column="id" label="编号" clickorderby="true" displaytype="hidden"></col>
<col column="companyname" label="公司名" clickorderby="true"></col>
<col column="type" label="类别" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="普通"></option>
               <option value="1" label="高级"></option>
           </inputbox>
</col>
<col column="rank" label="排名优先级" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="modeltypeid" label="分类类别"  br="true">
   <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from modeltype where status=1 and type=0}" label="name" value="id"/>
           </inputbox>
</col>
<col column="pic_url" label="公司图标" clickorderby="true">
    <inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="tel" label="电话" clickorderby="true" br="true"></col>
<col column="email" label="email" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="connector" label="联系人" clickorderby="true" br="true"></col>
<col column="prof_url" label="官网地址" clickorderby="true"  br="true" valuestyleproperty="colspan='3'" >
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="address" label="详细地址" clickorderby="true"  br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<!--<col column="typetwoid" label="地区类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select a.id,b.name,concat(b.name,a.name) as aa from (select id,fid,name from t7typetwo  where hierarchy='1') as a left join t7typetwo as b on a.fid=b.id}" label="aa" value="id"/>
           </inputbox>
</col>    -->
<col column="scale" label="公司规模" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="20人以下"></option>
               <option value="1" label="20-100人"></option>
               <option value="2" label="100-500人"></option>
               <option value="3" label="500-1000人"></option>
               <option value="4" label="1000人以上"></option>
           </inputbox>
</col>
<col column="properties" label="公司性质" clickorderby="true" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="内资有限责任公司"></option>
               <option value="1" label="外商投资企业"></option>
               <option value="2" label="外商投资合伙企业"></option>
               <option value="3" label="股份有限公司"></option>
               <option value="4" label="非公司制企业"></option>
               <option value="5" label="个体工商户"></option>
               <option value="6" label="合伙企业"></option>
               <option value="7" label="大学生创业"></option>
           </inputbox>
</col>
<col column="info" label="公司简介" clickorderby="true"  br="true" valuestyleproperty="colspan='3'">
<inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" br="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
      		   <option value="1" label="有效"></option>
               <option value="0" label="无效"></option>
           </inputbox>
</col>
<col column="adminid" label="管理员账号" clickorderby="true">
    <inputbox type="selectbox">
        <option value="" label="选择账号"></option>
               <option dataset="@{select id,nam_tiny from t10manager where status=1 and privlg=2}" label="nam_tiny" value="id"/>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t2company where {#condition#} order by id</value> 
<condition label="公司编号" name="txtcompanyid" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition>
</select>
<insert refreshparentonsave="t2company|true">insert into t2company (@{adminid},@{type},@{modeltypeid},@{rank},@{companyname},@{pic_url},@{tel},@{email},@{connector},@{prof_url},@{address},@{scale},@{properties},@{info},@{timadd},@{status});</insert>
<update refreshparentonsave="t2company|true">update t2company (@{adminid},@{type},@{modeltypeid},@{rank},@{companyname},@{pic_url},@{tel},@{email},@{connector},@{prof_url},@{address},@{scale},@{properties},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete refreshparentonsave="t2company|true">delete from t2company where id=@{id};</delete>
</sql>
</report> 

<report id="t3positiona" title="发布的职位" type="editablelist2" dataexport="richexcel" depends="t2company" dependsparams="txtcompanyid=@{id}" >
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
   <inputbox type="selectbox" defaultvalue="1">
        <option value="1" label="公司"></option>
               <option value="0" label="猎头"></option>
           </inputbox>
</col>
<col column="companyid" label="发布公司编号" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txtcompanyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="typetwoid" label="工作地点" clickorderby="true">
       <inputbox>
				     <typeprompt count="15" width="200">
						       <promptcol label="aa" value="id" matchmode="anywhere"></promptcol>
						       <datasource> <option dataset="@{select id,aa from shenshi where {#matchcondition#}}"></option>       </datasource>
					        </typeprompt>
					     </inputbox>
					     </col>
<col column="salary" label="年薪" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="公司编号" name="txtcompanyid">  
               <value>
                   companyid = '#data#'
               </value>
            </condition>
            <condition label="标签名" name="txt***" hidden="true" defaultvalue="1">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<update>update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{timadd}) where id=@{id};</update>
<delete>delete from t3position where id=@{id};</delete>
</sql>
<format>
    <value>
        posi_type=posi_type==null?"0":posi_type.trim();
        if(posi_type.equals("0"))posi_type="兼职";
        else   if(posi_type.equals("1"))posi_type="全职";
        
        sex=sex==null?"0":sex.trim();
        if(sex.equals("0"))sex="女";
        else if(sex.equals("1"))sex="男";
        else if(sex.equals("2"))sex="无";
        
        degree=degree==null?"0":degree.trim();
        if(degree.equals("0"))degree="博士";
        else  if(degree.equals("1"))degree="硕士";
         else  if(degree.equals("2"))degree="大学本科";
          else  if(degree.equals("3"))degree="大专";
           else  if(degree.equals("4"))degree="高中";
            else  if(degree.equals("5"))degree="职高";
             else  if(degree.equals("6"))degree="初中";
              else  if(degree.equals("7"))degree="中技";
               else  if(degree.equals("8"))degree="中专";
               
               workexperience=workexperience==null?"0":workexperience.trim();
               if(workexperience.equals("0"))workexperience="无";
               else if(workexperience.equals("1"))workexperience="1年以上";
                else if(workexperience.equals("2"))workexperience="2年以上";
                 else if(workexperience.equals("3"))workexperience="3年以上";
                  else if(workexperience.equals("4"))workexperience="4年以上";
                   else if(workexperience.equals("5"))workexperience="5年以上";
                   
                   salary=salary==null?"0":salary.trim();
                   if(salary.equals("0"))salary="4w以下";
                   else if(salary.equals("1"))salary="4-7w";
                    else if(salary.equals("2"))salary="7-10w";
                     else if(salary.equals("3"))salary="10w以上";
                       else if(salary.equals("4"))salary="面议";
              
        type=type==null?"0":type.trim();
        if(type.equals("0"))type="猎头";
        else  if(type.equals("1"))type="公司";
    </value>
</format>
</report> 

<report id="t3positiona0" title="详细" type="form" dataexport="richexcel" depends="t3positiona" dependsparams="txta0id=@{id};txta0companyid=@{companyid}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
   <inputbox type="selectbox" defaultvalue="1">
        <option value="1" label="公司"></option>
               <option value="0" label="猎头"></option>
           </inputbox>
</col>
<col column="companyid" label="发布公司编号" br="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txta0companyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" clickorderby="true" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" clickorderby="true" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" clickorderby="true" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" clickorderby="true" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="typetwoid" label="工作地点" clickorderby="true">
       <inputbox>
				     <typeprompt count="15" width="200">
						       <promptcol label="aa" value="id" matchmode="anywhere"></promptcol>
						       <datasource> <option dataset="@{select id,aa from shenshi where {#matchcondition#}}"></option>       </datasource>
					        </typeprompt>
					     </inputbox>
					     </col>
<col column="salary" label="年薪" clickorderby="true" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="info" label="岗位职责" clickorderby="true"  br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="公司编号" name="txta0id" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition>
            <condition label="标签名" name="txta0***" hidden="true" defaultvalue="1">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<insert refreshparentonsave="t3positiona|true">insert into t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status});</insert>
<update refreshparentonsave="t3positiona|true">update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete refreshparentonsave="t3positiona|true">delete from t3position where id=@{id};</delete>
</sql>
</report> 
    </page>
    
    		 <page xmlns="http://www.wabacus.com" id="qjwb_admin" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
 	<report id="t10manager" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="username" label="用户名" clickorderby="true"></col>
<col column="paswd" label="密码" clickorderby="true"></col>
<col column="nam_tiny" label="昵称" clickorderby="true"></col>
<col column="telphone" label="手机" clickorderby="true"></col>
<col column="privlg" label="权限" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="1">
               <option value="1" label="管理员"></option>
               <option value="2" label="企业账号"></option>
               <option value="3" label="猎头账号"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
     <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t10manager where {#condition#} order by id</value> 
</select>
<insert>insert into t10manager (@{username},@{paswd},@{nam_tiny},@{telphone},@{privlg},@{timadd},@{status});</insert>
<update>update t10manager (@{username},@{paswd},@{nam_tiny},@{telphone},@{privlg},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t10manager where id=@{id};</delete>
</sql>
<format>
    <value>
        privlg=privlg==null?"0":privlg.trim();
        if(privlg.equals("0"))privlg="普通管理员";
        else  if(privlg.equals("1"))privlg="管理员";
        else  if(privlg.equals("2"))privlg="企业账号";
        else  if(privlg.equals("3"))privlg="猎头账号";
        
        status=status==null?"0":status.trim();
        if(status.equals("0"))status="无效";
        else if(status.equals("1"))status="有效";
    </value>
</format>
</report> 
    </page>
    
    		 	 <page xmlns="http://www.wabacus.com" id="qjwb_record" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
 	<tabpanel id="tp1" margin="10px" titlestyle="2" titlewidth="180px">
     <vpanel id="vp1" parenttitle="未审核">
         <report id="r15acceptrecord" type="editablelist2" dataexport="richexcel" width="1200px">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="positionid" label="职位" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from t1typeone where hierarchy='2'}" label="name" value="id"/>
           </inputbox>
</col>
<col column="timsign" label="投递时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="jobid" label="求职者编号" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="resumeid" label="简历编号" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="info" label="备注" clickorderby="true" width="200px">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="examine_status" label="审核结果" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="未审核"></option>
               <option value="1" label="审核通过"></option>
               <option value="2" label="审核失败"></option>
           </inputbox>
</col>
<col column="examine_tim" label="审核时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="employ_status" label="应聘状态" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="已投"></option>
               <option value="1" label="已阅"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from r15acceptrecord where {#condition#} order by id</value> 
<condition label="标签名" name="txt***" hidden="true" defaultvalue="0">  
               <value>
                   examine_status = '#data#'
               </value>
            </condition>
</select>
<insert>insert into r15acceptrecord (@{positionid},@{timsign},@{jobid},@{resumeid},@{info},@{examine_status},@{examine_tim},@{employ_status},@{timadd},@{status});</insert>
<update>update r15acceptrecord (@{positionid},@{timsign},@{jobid},@{resumeid},@{info},@{examine_status},@{examine_tim},@{employ_status},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from r15acceptrecord where id=@{id};</delete>
</sql>
<format>
<value>
   examine_status=examine_status==null?"0":examine_status.trim();
   if(examine_status.equals("0"))examine_status="未审核";
   else if(examine_status.equals("1"))examine_status="审核通过";
   else if(examine_status.equals("2"))examine_status="审核失败";
   
   employ_status=employ_status==null?"0":employ_status.trim();
   if(employ_status.equals("0"))employ_status="已发送";
   else if(employ_status.equals("1"))employ_status="已阅读";
   
   status=status==null?"0":status.trim();
   if(status.equals("0"))status="无效";
   else if(status.equals("1"))status="有效";
</value>
</format>
</report> 
 	</vpanel>
 	   <vpanel id="vp2" parenttitle="已审核">
 	        <report id="r15acceptrecord0" type="editablelist2" dataexport="richexcel" width="1200px">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="positionid" label="职位" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="timsign" label="投递时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="jobid" label="求职者编号" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="resumeid" label="简历编号" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="info" label="备注" clickorderby="true" width="200px">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="examine_status" label="审核结果" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="未审核"></option>
               <option value="1" label="审核通过"></option>
               <option value="2" label="审核失败"></option>
           </inputbox>
</col>
<col column="examine_tim" label="审核时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="employ_status" label="应聘状态" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="已发送"></option>
               <option value="1" label="已阅读"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from r15acceptrecord where {#condition#} order by id</value> 
<condition label="标签名" name="txt***" hidden="true" defaultvalue="0">  
               <value>
                   examine_status > '#data#'
               </value>
            </condition>
</select>
<insert>insert into r15acceptrecord (@{positionid},@{timsign},@{jobid},@{resumeid},@{info},@{examine_status},@{examine_tim},@{employ_status},@{timadd},@{status});</insert>
<update>update r15acceptrecord (@{positionid},@{timsign},@{jobid},@{resumeid},@{info},@{examine_status},@{examine_tim},@{employ_status},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from r15acceptrecord where id=@{id};</delete>
</sql>
<format>
<value>
   examine_status=examine_status==null?"0":examine_status.trim();
   if(examine_status.equals("0"))examine_status="未审核";
   else if(examine_status.equals("1"))examine_status="审核通过";
   else if(examine_status.equals("2"))examine_status="审核失败";
   
   employ_status=employ_status==null?"0":employ_status.trim();
   if(employ_status.equals("0"))employ_status="已发送";
   else if(employ_status.equals("1"))employ_status="已阅读";
   
   status=status==null?"0":status.trim();
   if(status.equals("0"))status="无效";
   else if(status.equals("1"))status="有效";
</value>
</format>
</report> 
 	</vpanel>
 	</tabpanel>
 	</page>
    
    	 <page xmlns="http://www.wabacus.com" id="qjwb_fair" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
 <interceptor>
  <imports>
      <import>com.wabacus.util.*</import>
   </imports>
   <preaction>
rrequest.authorize("t8jobfair",Consts.DATA_PART,"type","readonly","true");
rrequest.authorize("t8jobfair0",Consts.DATA_PART,"type","readonly","true");
rrequest.authorize("t8jobfaira",Consts.DATA_PART,"type","readonly","true");
rrequest.authorize("t8jobfair00",Consts.DATA_PART,"type","readonly","true");
   </preaction>
   </interceptor>
 <tabpanel id="tp1" margin="10px" titlestyle="2" titlewidth="180px">
     <vpanel id="vp1" parenttitle="高校">
    	 <report id="t8jobfair0" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="1">
               <option value="0" label="专场"></option>
               <option value="1" label="高校"></option>
           </inputbox>
</col>
<col column="activname" label="学校名称" clickorderby="true"></col>
<col column="head_url" label="图片logo" clickorderby="true">
<inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="beg_day" label="开始日期" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_day" label="结束日期" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t8jobfair where {#condition#} order by id</value> 
<condition label="标签名" name="txt*" hidden="true" defaultvalue="1">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<update>update t8jobfair (@{head_url},@{type},@{activname},@{beg_day},@{end_day},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t8jobfair where id=@{id};</delete>
</sql>
<format>
    <value>
        type=type==null?"0":type.trim();
        if(type.equals("0"))type="专场";
        else  if(type.equals("1"))type="高校";
        
     status=status==null?"0":status.trim();
   if(status.equals("0"))status="无效";
   else if(status.equals("1"))status="有效";
    </value>
</format>
</report> 

    	  <report id="t8jobfair00" type="form" dataexport="richexcel" depends="t8jobfair0" dependsparams="txtid=@{id}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="1">
               <option value="0" label="专场"></option>
               <option value="1" label="高校"></option>
           </inputbox>
</col>
<col column="activname" label="学校名称" br="true"></col>
<col column="head_url" label="图片logo" clickorderby="true">
<inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="address" label="地点" clickorderby="true" br="true">
<inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col> 
<col column="info" label="说明" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="beg_day" label="开始日期" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_day" label="结束日期" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>

<col column="companyids" label="报名公司编号串，|分隔" clickorderby="true">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="timadd" label="添加时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t8jobfair where {#condition#} order by id</value> 
<condition label="标签名" name="txtid" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition>
</select>
<insert>insert into t8jobfair (@{head_url},@{address},@{type},@{activname},@{info},@{beg_day},@{end_day},@{companyids},@{timadd},@{status});</insert>
<update>update t8jobfair (@{head_url},@{address},@{type},@{activname},@{info},@{beg_day},@{end_day},@{companyids},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t8jobfair where id=@{id};</delete>
</sql>
</report> 
    
 <report id="t2company"  title="参考公司列表" type="editablelist2" dataexport="richexcel" >
<display>
<col column="id" label="编号" clickorderby="true"></col>
<col column="companyname" label="公司名" clickorderby="true"></col>
<col column="tel" label="电话" clickorderby="true"></col>
<col column="email" label="email" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="connector" label="联系人" clickorderby="true"></col>
<col column="scale" label="公司规模" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="20人以下"></option>
               <option value="1" label="20-100人"></option>
               <option value="2" label="100-500人"></option>
               <option value="3" label="500-1000人"></option>
               <option value="4" label="1000人以上"></option>
           </inputbox>
</col>
<col column="properties" label="公司性质" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="内资有限责任公司"></option>
               <option value="1" label="外商投资企业"></option>
               <option value="2" label="外商投资合伙企业"></option>
               <option value="3" label="股份有限公司"></option>
               <option value="4" label="非公司制企业"></option>
               <option value="5" label="个体工商户"></option>
               <option value="6" label="合伙企业"></option>
               <option value="7" label="大学生创业"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t2company where {#condition#} order by id</value> 
<condition label="公司编号" name="txtid" >  
               <value>
                   id like '%#data#%'
               </value>
            </condition>
            <condition label="公司名" name="txtcompanyname" >  
               <value>
                   companyname like '%#data#%'
               </value>
            </condition>
</select>
</sql>
<format>
    <value>
        scale=scale==null?"0":scale.trim();
        if(scale.equals("0"))scale="20人以下";
        else   if(scale.equals("1"))scale="20-100人";
        else   if(scale.equals("2"))scale="100-500人";
        else   if(scale.equals("3"))scale="500-1000人";
        else   if(scale.equals("4"))scale="1000人以上";
        
         
        properties=properties==null?"0":properties.trim();
        if(properties.equals("0"))properties="内资有限责任公司";
        else  if(properties.equals("1"))properties="外商投资企业";
         else  if(properties.equals("2"))properties="外商投资合伙企业";
          else  if(properties.equals("3"))properties="股份有限公司";
           else  if(properties.equals("4"))properties="非公司制企业";
            else  if(properties.equals("5"))properties="个体工商户";
             else  if(properties.equals("6"))properties="合伙企业";
            else  if(properties.equals("7"))properties="大学生创业";
    </value>
</format>
</report> 
   </vpanel>
 
    <vpanel id="vp2" parenttitle="专场">
 <report id="t8jobfair" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="专场"></option>
               <option value="1" label="高校"></option>
           </inputbox>
</col>
<col column="activname" label="专场名称" clickorderby="true"></col>
<col column="head_url" label="图片logo" clickorderby="true">
<inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="beg_day" label="开始日期" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_day" label="结束日期" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t8jobfair where {#condition#} order by id</value> 
<condition label="标签名" name="txt***" hidden="true" defaultvalue="0">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<update>update t8jobfair (@{head_url},@{type},@{activname},@{beg_day},@{end_day},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t8jobfair where id=@{id};</delete>
</sql>
<format>
    <value>
        type=type==null?"0":type.trim();
        if(type.equals("0"))type="专场";
        else  if(type.equals("1"))type="高校";
        
     status=status==null?"0":status.trim();
   if(status.equals("0"))status="无效";
   else if(status.equals("1"))status="有效";
    </value>
</format>
</report> 

 <report id="t8jobfaira" type="form" dataexport="richexcel" depends="t8jobfair" dependsparams="txtaid=@{id}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="专场"></option>
               <option value="1" label="高校"></option>
           </inputbox>
</col>
<col column="activname" label="专场名称" br="true"></col>
<col column="head_url" label="图片logo" clickorderby="true">
<inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="address" label="地点" clickorderby="true" br="true">
<inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col> 
<col column="info" label="说明" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="beg_day" label="开始日期" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_day" label="结束日期" clickorderby="true" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>

<col column="companyids" label="报名公司编号串，|分隔" clickorderby="true">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="timadd" label="添加时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t8jobfair where {#condition#} order by id</value> 
<condition label="标签名" name="txtaid" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition>
</select>
<insert>insert into t8jobfair (@{head_url},@{address},@{type},@{activname},@{info},@{beg_day},@{end_day},@{companyids},@{timadd},@{status});</insert>
<update>update t8jobfair (@{head_url},@{address},@{type},@{activname},@{info},@{beg_day},@{end_day},@{companyids},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t8jobfair where id=@{id};</delete>
</sql>
</report> 

 <report id="t2company0"  title="参考公司列表" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="编号" clickorderby="true"></col>
<col column="companyname" label="公司名" clickorderby="true"></col>
<col column="tel" label="电话" clickorderby="true"></col>
<col column="email" label="email" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="connector" label="联系人" clickorderby="true"></col>
<col column="scale" label="公司规模" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="20人以下"></option>
               <option value="1" label="20-100人"></option>
               <option value="2" label="100-500人"></option>
               <option value="3" label="500-1000人"></option>
               <option value="4" label="1000人以上"></option>
           </inputbox>
</col>
<col column="properties" label="公司性质" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="内资有限责任公司"></option>
               <option value="1" label="外商投资企业"></option>
               <option value="2" label="外商投资合伙企业"></option>
               <option value="3" label="股份有限公司"></option>
               <option value="4" label="非公司制企业"></option>
               <option value="5" label="个体工商户"></option>
               <option value="6" label="合伙企业"></option>
               <option value="7" label="大学生创业"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t2company where {#condition#} order by id</value> 
<condition label="公司编号" name="txtid" >  
               <value>
                   id like '%#data#%'
               </value>
            </condition>
            <condition label="公司名" name="txtcompanyname" >  
               <value>
                   companyname like '%#data#%'
               </value>
            </condition>
</select>
</sql>
<format>
    <value>
        scale=scale==null?"0":scale.trim();
        if(scale.equals("0"))scale="20人以下";
        else   if(scale.equals("1"))scale="20-100人";
        else   if(scale.equals("2"))scale="100-500人";
        else   if(scale.equals("3"))scale="500-1000人";
        else   if(scale.equals("4"))scale="1000人以上";
        
        
         properties=properties==null?"0":properties.trim();
        if(properties.equals("0"))properties="内资有限责任公司";
        else  if(properties.equals("1"))properties="外商投资企业";
         else  if(properties.equals("2"))properties="外商投资合伙企业";
          else  if(properties.equals("3"))properties="股份有限公司";
           else  if(properties.equals("4"))properties="非公司制企业";
            else  if(properties.equals("5"))properties="个体工商户";
             else  if(properties.equals("6"))properties="合伙企业";
            else  if(properties.equals("7"))properties="大学生创业";
    </value>
</format>
</report> 
    </vpanel>
    </tabpanel>
    	 </page>
    
    	 		 <page xmlns="http://www.wabacus.com" id="qjwb_modeltype" js="/webresources/test.js?t=7,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js,js/jquery.min.js" >  
  <report id="modeltype"  type="editablelist2" dataexport="richexcel" >
<display>
<col column="id" label="编号" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="小图标"></option>
               <option value="1" label="广告图 "></option>
           </inputbox>
</col>
<col column="rank" label="排列优先级" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="pic_url" label="图片" clickorderby="true">
   <inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'onmouseover='showimg(event,this)'onmouseout='hidimg()'showname='qjwb'" newfilename="{timestamp}"></inputbox>
</col>
<col column="name" label="名称" clickorderby="true"></col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效 "></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from modeltype where {#condition#} order by id</value> 
</select>
<insert>insert into modeltype (@{type},@{rank},@{pic_url},@{name},@{status});</insert>
<update>update modeltype (@{type},@{rank},@{pic_url},@{name},@{status}) where id=@{id};</update>
<delete>delete from modeltype where id=@{id};</delete>
</sql>
<format>
  <value>
    type=type==null?"0":type.trim();
    if(type.equals("0"))type="小图标";
    else if(type.equals("1"))type="广告图";
    
    status=status==null?"0":status.trim();
    if(status.equals("0"))status="无效";
    else if(status.equals("1"))status="有效";
  </value>
</format>
</report> 
    	 		     </page>
    	 		     
    	 		    		 <page xmlns="http://www.wabacus.com" id="qjwb_game" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
 <tabpanel id="tp1" margin="10px" titlestyle="2" titlewidth="180px">
     <vpanel id="vp1" parenttitle="用户">
         <report id="users"  type="editablelist2" dataexport="richexcel">
         <buttons buttonspacing="1" align="right">
           <button name="button3" position="title" label="获奖清零">
                      jsupdatesql('update users set win_state=-2','获奖清零');
           </button>
         </buttons>
<display>
<col column="userid" label="" clickorderby="true" displaytype="hidden"></col>
<col column="wx_openid" label="微信id" clickorderby="true"></col>
<col column="name" label="姓名" clickorderby="true"></col>
<col column="phone" label="手机号" clickorderby="true"></col>
<col column="win_state" label="获奖状态" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
       			 <option value="-2" label="没抽奖"></option>
       			 <option value="-1" label="已兑换"></option>
               <option value="0" label="没中奖"></option>
               <option value="1" label="一等奖"></option>
               <option value="2" label="二等奖"></option>
               <option value="3" label="三等奖"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select a.*,b.wx_openid from users a left join t5resume b on a.resumeid=b.id where {#condition#} order by userid</value>
<condition label="微信id" name="txtwx_openid">  
               <value>
                   wx_openid like '%#data#%'
               </value>
            </condition> 
<condition label="姓名" name="txtname">  
               <value>
                   name like '%#data#%'
               </value>
            </condition>
            <condition label="手机号" name="txtphone">  
               <value>
                   phone like '%#data#%'
               </value>
            </condition>
            <condition label="获奖状态" name="txtwin_state" > 
             <inputbox type="selectbox" defaultvalue="0">
             <option value="" label="获奖状态"></option>
       			 <option value="-2" label="没抽奖"></option>
       			 <option value="-1" label="已兑换"></option>
               <option value="0" label="没中奖"></option>
               <option value="1" label="一等奖"></option>
               <option value="2" label="二等奖"></option>
               <option value="3" label="三等奖"></option>
           </inputbox> 
               <value>
                  win_state = '#data#'
               </value>
            </condition>
</select>
<insert>insert into users (@{name},@{phone},@{win_state},@{timadd},@{status});</insert>
<update>update users (@{name},@{phone},@{win_state},@{timadd},@{status}) where userid=@{userid};</update>
<delete>delete from users where userid=@{userid};</delete>
</sql>
<format>
    <value>
        win_state=win_state==null?"-2":win_state.trim();
        if(win_state.equals("-2"))win_state="没抽奖";
        else  if(win_state.equals("-1"))win_state="已兑换";
         else  if(win_state.equals("0"))win_state="没中奖";
          else  if(win_state.equals("1"))win_state="一等奖";
           else  if(win_state.equals("2"))win_state="二等奖";
            else  if(win_state.equals("3"))win_state="三等奖";
            
            status=status==null?"0":status.trim();
            if(status.equals("0"))status="无效";
            else  if(status.equals("1"))status="有效";
    </value>
</format>
</report> 
     </vpanel>
     <vpanel id="vp2" parenttitle="奖品表">
         <report id="awards" type="editablelist2" dataexport="richexcel">
<display>
<col column="awardid" label="" clickorderby="true" displaytype="hidden"></col>
<col column="rank" label="奖品等级" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="1">
               <option value="1" label="一等奖"></option>
               <option value="2" label="二等奖"></option>
               <option value="3" label="三等奖"></option>
           </inputbox>
</col>
<col column="awardname" label="奖品名称" clickorderby="true"></col>
<col column="amount" label="奖品数量" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<!-- 
<col column="img_url" label="对应笑脸图片地址" clickorderby="true">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="awd_text" label="对应笑脸说明文字" clickorderby="true">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
 -->
<col column="timadd" label="添加时间" clickorderby="true">
     <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
      <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from awards where {#condition#} order by awardid</value> 
</select>
<!-- <insert>insert into awards (@{rank},@{awardname},@{amount},@{timadd},@{status});</insert>-->
<update>update awards (@{rank},@{awardname},@{amount},@{timadd},@{status}) where awardid=@{awardid};</update>
<!-- <delete>delete from awards where awardid=@{awardid};</delete>-->
</sql>
<format>
    <value>
            status=status==null?"0":status.trim();
            if(status.equals("0"))status="无效";
            else if(status.equals("1"))status="有效";
            
            rank=rank==null?"1":rank.trim();
            if(rank.equals("1"))rank="一等奖";
            else if(rank.equals("2"))rank="二等奖";
            else if(rank.equals("3"))rank="三等奖";
    </value>
</format>
</report> 
     </vpanel>
     <vpanel id="vp3" parenttitle="抽奖规则表">
         <report id="lotteryinfo" type="form" dataexport="richexcel">
<display  labeltdwidth="100px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
<col column="infoid" label="编号" clickorderby="true" displaytype="hidden"></col>
<col column="gametitle" label="游戏登陆页提示" clickorderby="true">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="timadd" label="最后修改时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="content" label="抽奖规则" clickorderby="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='6'onfocus='edit()'" ></inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from lotteryinfo where {#condition#} order by infoid</value> 
</select>
<update>update lotteryinfo (@{gametitle},@{content},@{timadd}) where infoid=@{infoid};</update>
</sql>
</report> 
     </vpanel>
     <vpanel id="vp4" parenttitle="奖品基数表">
         <report id="radix" type="editablelist2" dataexport="richexcel">
<display>
<col column="radixid" label="" clickorderby="true" displaytype="hidden"></col>
<col column="radix_num" label="奖品基数表" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from radix where {#condition#} order by radixid</value> 
</select>
<insert>insert into radix (@{radix_num},@{timadd},@{status});</insert>
<update>update radix (@{radix_num},@{timadd},@{status}) where radixid=@{radixid};</update>
<delete>delete from radix where radixid=@{radixid};</delete>
</sql>
<format>
    <value>
            status=status==null?"0":status.trim();
            if(status.equals("0"))status="无效";
            else if(status.equals("1"))status="有效";
    </value>
</format>
</report> 
     </vpanel>
     <vpanel id="vp5" parenttitle="获奖情况表">
     <report id="awardrecord"  type="editablelist2" dataexport="richexcel" pagesize="50">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="userid" label="抽奖用户编号" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="name" label="用户名" clickorderby="true"></col>
<col column="phone" label="联系电话" clickorderby="true"></col>
<col column="rank" label="获奖情况" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="1" label="一等奖"></option>
               <option value="2" label="二等奖"></option>
               <option value="3" label="三等奖"></option>
           </inputbox>
</col>
<col column="isExpiry" label="是否已兑" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="否"></option>
               <option value="1" label="是"></option>
           </inputbox>
</col>
<col column="awardname" label="奖品名" clickorderby="true"></col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select a.id,a.userid,b.name,b.phone,a.rank,a.awardname,a.timadd,a.status,a.isExpiry from awardrecord as a left join users as b on a.userid=b.userid where {#condition#} order by a.timadd desc</value> 
</select>
<insert>insert into awardrecord (@{isExpiry},@{userid},@{rank},@{awardname},@{timadd},@{status});</insert>
<update>update awardrecord (@{isExpiry},@{userid},@{rank},@{awardname},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from awardrecord where id=@{id};</delete>
</sql>
<format>
    <value>
        isExpiry=isExpiry==null?"0":isExpiry.trim();
        if(isExpiry.equals("0"))isExpiry="否";
        else if(isExpiry.equals("1"))isExpiry="是";
        
       rank=rank==null?"0":rank.trim();
        if(rank.equals("1"))rank="一等奖";
       else if(rank.equals("2"))rank="二等奖";
       else if(rank.equals("3"))rank="三等奖";
    
            status=status==null?"0":status.trim();
            if(status.equals("0"))status="无效";
            else if(status.equals("1"))status="有效";
    </value>
</format>
</report> 
</vpanel>
     </tabpanel>
     <outerheader>
   <![CDATA[<html><head><script type="text/javascript" src="js/jquery.min.js"></script>
 <script type="text/javascript" src="js/windows.js"></script>
    <script type="text/javascript" src="ueditor_qjwb/ueditor.config.js"></script>
      <script type="text/javascript" src="ueditor_qjwb/ueditor.all.js"></script>
      <script type="text/javascript" src="ueditor_qjwb/ueditor.all.min.js"></script>
      <link type="text/css" href="ueditor_qjwb/themes/default/css/ueditor.css"/></head><body onload="edit()" ondblclick="edit()">]]>
  </outerheader>
  <header></header>
   <footer> </footer>
   <outerfooter>
   <![CDATA[</body></html>]]>
  </outerfooter>
 </page>
    
    	 <page xmlns="http://www.wabacus.com" id="qjwb_admin0" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
 <interceptor>
  <imports>
      <import>com.wabacus.util.*</import>
   </imports>
   <preaction>
rrequest.authorize("tuser",Consts.DATA_PART,"privlg","readonly","true");
rrequest.authorize("tuser",Consts.DATA_PART,"username","readonly","true");
   </preaction>
   </interceptor>
    	     <report id="tuser"  type="form" >
<display  labeltdwidth="40%" labelbgcolor="#f0f0f0" labelalign="right" valuetdwidth="60%">
<col column="id" label="编号" br="true" displaytype="hidden"></col>
<col column="username" label="用户名" br="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="paswd" label="密码" br="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="nam_tiny" label="昵称" br="true"></col>
<col column="telphone" label="手机" br="true"></col>
<col column="privlg" label="权限" br="true">
<inputbox type="selectbox"  defaultvalue="1">
               <option value="1" label="超级管理员"></option>
               <option value="2" label="企业账号"></option>
               <option value="3" label="猎头账号"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t10manager where {#condition#}</value> 
<condition label="session{privlg}" name="txtid" defaultvalue="session{user.id}" hidden="true">
               <value>
                   id = '#data#'
               </value>
            </condition>
</select>
<update>update t10manager (@{username},@{paswd},@{nam_tiny},@{telphone},@{privlg}) where id=@{id};</update>
</sql>
</report>
  </page>
  
    	  <page xmlns="http://www.wabacus.com" id="qjwb_hunter0" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
  <interceptor>
  <imports>
      <import>com.wabacus.util.*</import>
   </imports>
   <preaction>
        rrequest.authorize("hunter",Consts.DATA_PART,"rank0","readonly","true");
         rrequest.authorize("hunter",Consts.DATA_PART,"rank","readonly","true");
          rrequest.authorize("hunter0",Consts.DATA_PART,"rank0","readonly","true");
         rrequest.authorize("hunter0",Consts.DATA_PART,"rank","readonly","true");
         rrequest.authorize("hunter0",Consts.DATA_PART,"adminid","readonly","true");
       rrequest.authorize("t3position",Consts.DATA_PART,"type","readonly","true");//将report1表单中“中文名”列设置为只读
        rrequest.authorize("t3position0",Consts.DATA_PART,"type","readonly","true");
     </preaction>
   </interceptor>
 
   <report id="hunter" type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="编号" clickorderby="true"></col>
<col column="real_nam" label="真实姓名" clickorderby="true"></col>
<col column="en_nam" label="英文名" clickorderby="true"></col>
<col column="focuscnt" label="关注度" clickorderby="true"></col>
<col column="workyear" label="工作年限" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="position" label="职位" clickorderby="true"></col>
<col column="rank0" label="排名优先级" clickorderby="true">
<inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="rank" label="等级（1-5）" clickorderby="true"></col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from hunter where {#condition#} order by id</value> 
 <condition label="英文名" name="txtid" hidden="true" defaultvalue="session{user.id}">  
               <value>
                  adminid = '#data#'
               </value>
            </condition>
</select>
<update>update hunter (@{rank0},@{focuscnt},@{workyear},@{position},@{real_nam},@{en_nam},@{rank},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from hunter where id=@{id};</delete>
</sql>
<format><value>
   status=status==null?"0":status.trim();
   if(status.equals("0"))status="无效";
   else if(status.equals("1"))status="有效";

</value>
</format>
</report>
 <report id="hunter0" type="form" title="猎头详细表" dataexport="richexcel" depends="hunter" dependsparams="txtcompanyid=@{id}">
<display labeltdwidth="100px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
<col column="id" label="编号" clickorderby="true" displaytype="hidden"></col>
<col column="real_nam" label="真实姓名" clickorderby="true"></col>
<col column="en_nam" label="英文名" br="true"></col>
<col column="focuscnt" label="关注度" clickorderby="true"></col>
<col column="workyear" label="工作年限" br="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="background" label="背景及典型成功案例" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
   <inputbox type="textareabox" styleproperty="rows='6'onfocus='edit()'"></inputbox>
</col>
<col column="position" label="职位" clickorderby="true"></col>

<col column="rank" label="等级（1-5）" br="true"></col>
<col column="head_url" label="头像路径" clickorderby="true">
    <inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="email" label="电子邮箱" br="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="info" label="个人说明" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
<inputbox type="textareabox" styleproperty="rows='6'onfocus='edit()'"></inputbox>
</col>
<col column="typeoneid" label="擅长职务" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from t1typeone where hierarchy='0'}" label="name" value="id"/>
           </inputbox>
</col>
<col column="timadd" label="添加时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
<col column="rank0" label="排名优先级" br="true">
<inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="adminid" label="管理员账号" clickorderby="true">
    <inputbox type="selectbox">
        <option value="" label="选择账号"></option>
               <option dataset="@{select id,nam_tiny from t10manager where status=1 and privlg=3}" label="nam_tiny" value="id"/>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from hunter where {#condition#} order by id</value>
<condition label="中文名" name="txtcompanyid" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition> 
</select>
<update refreshparentonsave="hunter|true">update hunter (@{adminid},@{focuscnt},@{workyear},@{background},@{position},@{real_nam},@{en_nam},@{rank},@{head_url},@{email},@{info},@{typeoneid},@{timadd},@{status},@{rank0}) where id=@{id};</update>
<delete refreshparentonsave="hunter|true">delete from hunter where id=@{id};</delete>
</sql>
</report>
   

   <report id="t3position" title="发布的职位" type="editablelist2" dataexport="richexcel" depends="hunter" dependsparams="txtcompanyid=@{id}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="猎头"></option>
               <option value="1" label="公司"></option>
           </inputbox>
</col>
<col column="companyid" label="猎头编号" clickorderby="true">
     <inputbox jsvalidate="isNotEmpty(#label#不能为空);isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txtcompanyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="salary" label="年薪" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="猎头编号" name="txtcompanyid">  
               <value>
                   companyid = '#data#'
               </value>
            </condition>
             <condition label="标签名" name="txt***" hidden="true" defaultvalue="0">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<update>update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{salary},@{timadd}) where id=@{id};</update>
<delete>delete from t3position where id=@{id};</delete>
</sql>
<format>
    <value>
        posi_type=posi_type==null?"0":posi_type.trim();
        if(posi_type.equals("0"))posi_type="兼职";
        else   if(posi_type.equals("1"))posi_type="全职";
        
        sex=sex==null?"0":sex.trim();
        if(sex.equals("0"))sex="女";
        else if(sex.equals("1"))sex="男";
        else if(sex.equals("2"))sex="无";
        
        degree=degree==null?"0":degree.trim();
        if(degree.equals("0"))degree="博士";
        else  if(degree.equals("1"))degree="硕士";
         else  if(degree.equals("2"))degree="大学本科";
          else  if(degree.equals("3"))degree="大专";
           else  if(degree.equals("4"))degree="高中";
            else  if(degree.equals("5"))degree="职高";
             else  if(degree.equals("6"))degree="初中";
              else  if(degree.equals("7"))degree="中技";
               else  if(degree.equals("8"))degree="中专";
               
               workexperience=workexperience==null?"0":workexperience.trim();
               if(workexperience.equals("0"))workexperience="无";
               else if(workexperience.equals("1"))workexperience="1年以上";
                else if(workexperience.equals("2"))workexperience="2年以上";
                 else if(workexperience.equals("3"))workexperience="3年以上";
                  else if(workexperience.equals("4"))workexperience="4年以上";
                   else if(workexperience.equals("5"))workexperience="5年以上";
                   
                   salary=salary==null?"0":salary.trim();
                   if(salary.equals("0"))salary="4w以下";
                   else if(salary.equals("1"))salary="4-7w";
                    else if(salary.equals("2"))salary="7-10w";
                     else if(salary.equals("3"))salary="10w以上";
                       else if(salary.equals("4"))salary="面议";
        
         type=type==null?"0":type.trim();
        if(type.equals("0"))type="猎头";
        else  if(type.equals("1"))type="公司";
    </value>
</format>
</report> 

   <report id="t3position0" title="详细" type="form" dataexport="richexcel" depends="t3position" dependsparams="txt0id=@{id};txt0companyid=@{companyid}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="猎头"></option>
               <option value="1" label="公司"></option>
           </inputbox>
</col>
<col column="companyid" label="猎头编号" br="true">
     <inputbox jsvalidate="isNotEmpty(#label#不能为空);isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txt0companyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="typetwoid" label="工作地点" clickorderby="true">
        <inputbox>
				     <typeprompt count="15" width="200">
						       <promptcol label="aa" value="id" matchmode="anywhere"></promptcol>
						       <datasource> <option dataset="@{select id,aa from shenshi where {#matchcondition#}}"></option>       </datasource>
					        </typeprompt>
					     </inputbox>
        
</col>
<col column="salary" label="年薪" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="info" label="岗位职责" clickorderby="true" br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="猎头编号" name="txt0id" hidden="true">  
               <value>
                  id = '#data#'
               </value>
            </condition>
             <condition label="标签名" name="txt0***" hidden="true" defaultvalue="0">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<insert refreshparentonsave="t3position|true">insert into t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status});</insert>
<update refreshparentonsave="t3position|true">update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete refreshparentonsave="t3position|true">delete from t3position where id=@{id};</delete>
</sql>
</report> 
<outerheader>
   <![CDATA[<html><head><script type="text/javascript" src="js/jquery.min.js"></script>
 <script type="text/javascript" src="js/windows.js"></script>
    <script type="text/javascript" src="ueditor_qjwb/ueditor.config.js"></script>
      <script type="text/javascript" src="ueditor_qjwb/ueditor.all.js"></script>
      <script type="text/javascript" src="ueditor_qjwb/ueditor.all.min.js"></script>
      <link type="text/css" href="ueditor_qjwb/themes/default/css/ueditor.css"/></head><body>]]>
  </outerheader>
  <header></header>
   <footer> </footer>
   <outerfooter>
   <![CDATA[</body></html>]]>
  </outerfooter>
</page>
    	<page xmlns="http://www.wabacus.com" id="qjwb_company0" js="/webresources/test.js,/webresources/script/validate.js,/wabacusdemo/js/clientvalidate.js" >  
  <interceptor>
  <imports>
      <import>com.wabacus.util.*</import>
   </imports>
   <preaction>
       rrequest.authorize("t2company",Consts.DATA_PART,"type","readonly","true");
       rrequest.authorize("t2company",Consts.DATA_PART,"rank","readonly","true");
       rrequest.authorize("t2company0",Consts.DATA_PART,"type","readonly","true");
       rrequest.authorize("t2company0",Consts.DATA_PART,"rank","readonly","true");
       rrequest.authorize("t2company0",Consts.DATA_PART,"adminid","readonly","true");
         rrequest.authorize("t3positiona0",Consts.DATA_PART,"type","readonly","true");
 		rrequest.authorize("t3positiona",Consts.DATA_PART,"type","readonly","true");
   </preaction>
   </interceptor>
 
    	     <report id="t2company"  type="editablelist2" dataexport="richexcel">
<display>
<col column="id" label="编号" clickorderby="true"></col>
<col column="companyname" label="公司名" clickorderby="true"></col>
<col column="type" label="类别" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="普通"></option>
               <option value="1" label="高级"></option>
           </inputbox>
</col>
<col column="rank" label="排名优先级" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="modeltypeid" label="分类类别" clickorderby="true">
   <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from modeltype where status=1 and type=0}" label="name" value="id"/>
           </inputbox>
</col>
<col column="tel" label="电话" clickorderby="true"></col>
<col column="email" label="email" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="connector" label="联系人" clickorderby="true"></col>
<!--<col column="typetwoid" label="地区类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select a.id,b.name,concat(b.name,a.name) as aa from (select id,fid,name from t7typetwo  where hierarchy='1') as a left join t7typetwo as b on a.fid=b.id}" label="aa" value="id"/>
           </inputbox>
</col>    -->
<col column="scale" label="公司规模" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="20人以下"></option>
               <option value="1" label="20-100人"></option>
               <option value="2" label="100-500人"></option>
               <option value="3" label="500-1000人"></option>
               <option value="4" label="1000人以上"></option>
           </inputbox>
</col>
<col column="properties" label="公司性质" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="内资有限责任公司"></option>
               <option value="1" label="外商投资企业"></option>
               <option value="2" label="外商投资合伙企业"></option>
               <option value="3" label="股份有限公司"></option>
               <option value="4" label="非公司制企业"></option>
               <option value="5" label="个体工商户"></option>
               <option value="6" label="合伙企业"></option>
               <option value="7" label="大学生创业"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
      		   <option value="1" label="有效"></option>
               <option value="0" label="无效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t2company where {#condition#} order by id</value> 
<condition label="英文名" name="txtid" hidden="true" defaultvalue="session{user.id}">  
               <value>
                  adminid = '#data#'
               </value>
            </condition>
</select>
<update>update t2company (@{type},@{modeltypeid},@{rank},@{companyname},@{tel},@{email},@{connector},@{scale},@{properties},@{timadd},@{status}) where id=@{id};</update>
<delete>delete from t2company where id=@{id};</delete>
</sql>
<format>
    <value>
        scale=scale==null?"0":scale.trim();
        if(scale.equals("0"))scale="20人以下";
        else   if(scale.equals("1"))scale="20-100人";
        else   if(scale.equals("2"))scale="100-500人";
        else   if(scale.equals("3"))scale="500-1000人";
        else   if(scale.equals("4"))scale="1000人以上";
        
         status=status==null?"0":status.trim();
        if(status.equals("0"))status="无效";
        else if(status.equals("1"))status="有效";
        
        properties=properties==null?"0":properties.trim();
        if(properties.equals("0"))properties="内资有限责任公司";
        else  if(properties.equals("1"))properties="外商投资企业";
         else  if(properties.equals("2"))properties="外商投资合伙企业";
          else  if(properties.equals("3"))properties="股份有限公司";
           else  if(properties.equals("4"))properties="非公司制企业";
            else  if(properties.equals("5"))properties="个体工商户";
             else  if(properties.equals("6"))properties="合伙企业";
            else  if(properties.equals("7"))properties="大学生创业";
            
            type=type==null?"0":type.trim();
            if(type.equals("0"))type="普通";
            else   if(type.equals("1"))type="高级";
    </value>
</format>
</report> 
<report id="t2company0"  type="form"  title="公司详细表" dataexport="richexcel" depends="t2company" dependsparams="txtcompanyid=@{id}">
<display>
<col column="id" label="编号" clickorderby="true" displaytype="hidden"></col>
<col column="companyname" label="公司名" clickorderby="true"></col>
<col column="type" label="类别" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="普通"></option>
               <option value="1" label="高级"></option>
           </inputbox>
</col>
<col column="rank" label="排名优先级" clickorderby="true">
    <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="modeltypeid" label="分类类别"  br="true">
   <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select id,name from modeltype where status=1 and type=0}" label="name" value="id"/>
           </inputbox>
</col>
<col column="pic_url" label="公司图标" clickorderby="true">
    <inputbox type="file" savepath="absolute{D:/Tomcat 6.0/webapps/image/qjwb}" allowedtypes="jpg;gif;png" styleproperty="onblur='edit2(this)'" newfilename="{timestamp}"></inputbox>
</col>
<col column="tel" label="电话" clickorderby="true" br="true"></col>
<col column="email" label="email" clickorderby="true">
    <inputbox jsvalidate="isNotEmpty(#label#不能为空)"></inputbox>
</col>
<col column="connector" label="联系人" clickorderby="true" br="true"></col>
<col column="prof_url" label="官网地址" clickorderby="true"  br="true" valuestyleproperty="colspan='3'" >
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<col column="address" label="详细地址" clickorderby="true"  br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='2'"></inputbox>
</col>
<!--<col column="typetwoid" label="地区类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option dataset="@{select a.id,b.name,concat(b.name,a.name) as aa from (select id,fid,name from t7typetwo  where hierarchy='1') as a left join t7typetwo as b on a.fid=b.id}" label="aa" value="id"/>
           </inputbox>
</col>    -->
<col column="scale" label="公司规模" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="20人以下"></option>
               <option value="1" label="20-100人"></option>
               <option value="2" label="100-500人"></option>
               <option value="3" label="500-1000人"></option>
               <option value="4" label="1000人以上"></option>
           </inputbox>
</col>
<col column="properties" label="公司性质" clickorderby="true" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="内资有限责任公司"></option>
               <option value="1" label="外商投资企业"></option>
               <option value="2" label="外商投资合伙企业"></option>
               <option value="3" label="股份有限公司"></option>
               <option value="4" label="非公司制企业"></option>
               <option value="5" label="个体工商户"></option>
               <option value="6" label="合伙企业"></option>
               <option value="7" label="大学生创业"></option>
           </inputbox>
</col>
<col column="info" label="公司简介" clickorderby="true"  br="true" valuestyleproperty="colspan='3'">
<inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" br="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
      		   <option value="1" label="有效"></option>
               <option value="0" label="无效"></option>
           </inputbox>
</col>
<col column="adminid" label="管理员账号" clickorderby="true">
    <inputbox type="selectbox">
                <option value="" label="选择账号"></option>
               <option dataset="@{select id,nam_tiny from t10manager where status=1 and privlg=2}" label="nam_tiny" value="id"/>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t2company where {#condition#} order by id</value> 
<condition label="公司编号" name="txtcompanyid" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition>
</select>
<update refreshparentonsave="t2company|true">update t2company (@{adminid},@{type},@{modeltypeid},@{rank},@{companyname},@{pic_url},@{tel},@{email},@{connector},@{prof_url},@{address},@{scale},@{properties},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete refreshparentonsave="t2company|true">delete from t2company where id=@{id};</delete>
</sql>
</report> 

<report id="t3positiona" title="发布的职位" type="editablelist2" dataexport="richexcel" depends="t2company" dependsparams="txtcompanyid=@{id}" >
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
   <inputbox type="selectbox" defaultvalue="1">
        <option value="1" label="公司"></option>
               <option value="0" label="猎头"></option>
           </inputbox>
</col>
<col column="companyid" label="发布公司编号" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txtcompanyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" clickorderby="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="typetwoid" label="工作地点" clickorderby="true">
       <inputbox>
				     <typeprompt count="15" width="200">
						       <promptcol label="aa" value="id" matchmode="anywhere"></promptcol>
						       <datasource> <option dataset="@{select id,aa from shenshi where {#matchcondition#}}"></option>       </datasource>
					        </typeprompt>
					     </inputbox>
					     </col>
<col column="salary" label="年薪" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="公司编号" name="txtcompanyid">  
               <value>
                   companyid = '#data#'
               </value>
            </condition>
            <condition label="标签名" name="txt***" hidden="true" defaultvalue="1">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<update>update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{timadd}) where id=@{id};</update>
<delete>delete from t3position where id=@{id};</delete>
</sql>
<format>
    <value>
        posi_type=posi_type==null?"0":posi_type.trim();
        if(posi_type.equals("0"))posi_type="兼职";
        else   if(posi_type.equals("1"))posi_type="全职";
        
        sex=sex==null?"0":sex.trim();
        if(sex.equals("0"))sex="女";
        else if(sex.equals("1"))sex="男";
        else if(sex.equals("2"))sex="无";
        
        degree=degree==null?"0":degree.trim();
        if(degree.equals("0"))degree="博士";
        else  if(degree.equals("1"))degree="硕士";
         else  if(degree.equals("2"))degree="大学本科";
          else  if(degree.equals("3"))degree="大专";
           else  if(degree.equals("4"))degree="高中";
            else  if(degree.equals("5"))degree="职高";
             else  if(degree.equals("6"))degree="初中";
              else  if(degree.equals("7"))degree="中技";
               else  if(degree.equals("8"))degree="中专";
               
               workexperience=workexperience==null?"0":workexperience.trim();
               if(workexperience.equals("0"))workexperience="无";
               else if(workexperience.equals("1"))workexperience="1年以上";
                else if(workexperience.equals("2"))workexperience="2年以上";
                 else if(workexperience.equals("3"))workexperience="3年以上";
                  else if(workexperience.equals("4"))workexperience="4年以上";
                   else if(workexperience.equals("5"))workexperience="5年以上";
                   
                   salary=salary==null?"0":salary.trim();
                   if(salary.equals("0"))salary="4w以下";
                   else if(salary.equals("1"))salary="4-7w";
                    else if(salary.equals("2"))salary="7-10w";
                     else if(salary.equals("3"))salary="10w以上";
                       else if(salary.equals("4"))salary="面议";
              
        type=type==null?"0":type.trim();
        if(type.equals("0"))type="猎头";
        else  if(type.equals("1"))type="公司";
    </value>
</format>
</report> 

<report id="t3positiona0" title="详细" type="form" dataexport="richexcel" depends="t3positiona" dependsparams="txta0id=@{id};txta0companyid=@{companyid}">
<display>
<col column="id" label="" clickorderby="true" displaytype="hidden"></col>
<col column="type" label="发布人类别" clickorderby="true">
   <inputbox type="selectbox" defaultvalue="1">
        <option value="1" label="公司"></option>
               <option value="0" label="猎头"></option>
           </inputbox>
</col>
<col column="companyid" label="发布公司编号" br="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="rrequest{txta0companyid}"></inputbox>
</col>
<col column="position_name" label="自定义职位名称" clickorderby="true"></col>
<col column="posi_type" label="类别" clickorderby="true" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="兼职"></option>
               <option value="1" label="全职"></option>
           </inputbox>
</col>
<col column="peoples" label="招聘人数" clickorderby="true">
     <inputbox jsvalidate="isNumeric(#data#不是有效数字)" defaultvalue="0"></inputbox>
</col>
<col column="sex" label="性别要求" clickorderby="true" br="true">
    <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="女"></option>
               <option value="1" label="男"></option>
               <option value="2" label="无"></option>
           </inputbox>
</col>
<col column="degree" label="学历要求" clickorderby="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="博士"></option>
               <option value="1" label="硕士"></option>
               <option value="2" label="大学本科"></option>
               <option value="3" label="大专"></option>
               <option value="4" label="高中"></option>
               <option value="5" label="职高"></option>
               <option value="6" label="初中"></option>
               <option value="7" label="中技"></option>
               <option value="8" label="中专"></option>
           </inputbox>
</col>
<col column="workexperience" label="工作经验" clickorderby="true" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="无"></option>
               <option value="1" label="1年以上"></option>
               <option value="2" label="2年以上"></option>
               <option value="3" label="3年以上"></option>
               <option value="4" label="4年以上"></option>
               <option value="5" label="5年以上"></option>
           </inputbox>
</col>
<col column="beg_tim" label="发布时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="end_tim" label="截止时间" clickorderby="true" br="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="typetwoid" label="工作地点" clickorderby="true">
       <inputbox>
				     <typeprompt count="15" width="200">
						       <promptcol label="aa" value="id" matchmode="anywhere"></promptcol>
						       <datasource> <option dataset="@{select id,aa from shenshi where {#matchcondition#}}"></option>       </datasource>
					        </typeprompt>
					     </inputbox>
					     </col>
<col column="salary" label="年薪" clickorderby="true" br="true">
     <inputbox type="selectbox" defaultvalue="0">
               <option value="0" label="4w以下"></option>
               <option value="1" label="4-7w"></option>
               <option value="2" label="7-10w"></option>
               <option value="3" label="10w以上"></option>
               <option value="4" label="面议"></option>
           </inputbox>
</col>
<col column="info" label="岗位职责" clickorderby="true"  br="true" valuestyleproperty="colspan='3'">
    <inputbox type="textareabox" styleproperty="rows='5'"></inputbox>
</col>
<col column="timadd" label="添加时间" clickorderby="true">
    <inputbox type="datepicker" inputboxparams="dateFmt:'yyyy-MM-dd HH:mm:ss',lang:'zh-cn'" jsvalidate="isNotEmpty(#label#不能为 空);"></inputbox>
</col>
<col column="status" label="状态" clickorderby="true">
    <inputbox type="selectbox" jsvalidate="isNotEmpty(#label#不能为空)">
               <option value="0" label="无效"></option>
               <option value="1" label="有效"></option>
           </inputbox>
</col>
</display>
<sql datasource="ds_mysql17">
<select>
<value>select * from t3position where {#condition#} order by id</value> 
<condition label="公司编号" name="txta0id" hidden="true">  
               <value>
                   id = '#data#'
               </value>
            </condition>
            <condition label="标签名" name="txta0***" hidden="true" defaultvalue="1">  
               <value>
                   type = '#data#'
               </value>
            </condition>
</select>
<insert refreshparentonsave="t3positiona|true">insert into t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status});</insert>
<update refreshparentonsave="t3positiona|true">update t3position (@{type},@{companyid},@{position_name},@{posi_type},@{peoples},@{sex},@{degree},@{workexperience},@{beg_tim},@{end_tim},@{typetwoid},@{salary},@{info},@{timadd},@{status}) where id=@{id};</update>
<delete refreshparentonsave="t3positiona|true">delete from t3position where id=@{id};</delete>
</sql>
</report> 
    </page>
			</applications>